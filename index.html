<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#ff6b35">
    <meta name="description" content="Control your iQE050 BBQ controller via Bluetooth">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <title>BBQ Controller</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="dark-mode">
    <!-- Header -->
    <header>
        <div class="header-content">
            <h1>ðŸ”¥ BBQ Controller</h1>
            <div class="header-controls">
                <button id="themeToggle" class="icon-btn" title="Toggle theme">ðŸŒ™</button>
                <button id="connectBtn" class="primary-btn">Connect</button>
            </div>
        </div>
        <div id="connectionStatus" class="status-bar disconnected">
            <span class="status-dot"></span>
            <span class="status-text">Disconnected</span>
        </div>
        <div id="lastEcho" class="status-echo">
            Last command: <span id="lastEchoText">--</span>
            <span id="lastEchoVerify" class="echo-verify">(no verification)</span>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Controls removed: settings are now accessible by tapping status icons and temperature cards -->
            <div class="control-group">
                <label for="pitSetSlider">
                    Pit Temperature
                    <span class="control-value" id="pitSetValue">225Â°F</span>
                </label>
                <input type="range" id="pitSetSlider" min="150" max="400" value="225" step="5">
                <div class="range-labels">
                    <span>150Â°F</span>
                    <span>400Â°F</span>
                </div>
            </div>

            <!-- Food 1 Alarm -->
            <div class="control-group">
                <label for="food1AlarmSlider">
                    Food 1 Alarm
                    <span class="control-value" id="food1AlarmValue">Off</span>
                </label>
                <input type="range" id="food1AlarmSlider" min="0" max="250" value="0" step="5">
                <div class="range-labels">
                    <span>Off</span>
                    <span>250Â°F</span>
                </div>
            </div>

            <!-- Food 2 Alarm -->
            <div class="control-group">
                <label for="food2AlarmSlider">
                    Food 2 Alarm
                    <span class="control-value" id="food2AlarmValue">Off</span>
                </label>
                <input type="range" id="food2AlarmSlider" min="0" max="250" value="0" step="5">
                <div class="range-labels">
                    <span>Off</span>
                    <span>250Â°F</span>
                </div>
            </div>

            <!-- Fan Speed -->
            <div class="control-group">
                <label>Fan Speed</label>
                <div class="button-group">
                    <button class="toggle-btn active" data-fan="0">Auto</button>
                    <button class="toggle-btn" data-fan="1">1</button>
                    <button class="toggle-btn" data-fan="2">2</button>
                    <button class="toggle-btn" data-fan="3">3</button>
                    <button class="toggle-btn" data-fan="4">4</button>
                    <button class="toggle-btn" data-fan="5">5</button>
                </div>
            </div>

            <!-- Lid Detect -->
            <div class="control-group">
                <label>Lid Detect</label>
                <div class="button-group">
                    <button class="toggle-btn active" data-lid="1">On</button>
                    <button class="toggle-btn" data-lid="0">Off</button>
                </div>
            </div>

            <!-- Temperature Units -->
            <div class="control-group">
                <label>Temperature Units</label>
                <div class="button-group">
                    <button class="toggle-btn active" data-units="0">Â°F</button>
                    <button class="toggle-btn" data-units="1">Â°C</button>
                </div>
            </div>

            <!-- Sound Level -->
            <div class="control-group">
                <label for="soundSlider">
                    Sound Level
                    <span class="control-value" id="soundValue">3</span>
                </label>
                <input type="range" id="soundSlider" min="0" max="5" value="3" step="1">
                <div class="range-labels">
                    <span>Off</span>
                    <span>5</span>
                </div>
            </div>

            <!-- Display Brightness -->
            <div class="control-group">
                <label for="displaySlider">
                    Display Brightness
                    <span class="control-value" id="displayValue">3</span>
                </label>
                <input type="range" id="displaySlider" min="0" max="3" value="3" step="1">
                <div class="range-labels">
                    <span>Off</span>
                    <span>3</span>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>BBQ Controller - Built for iQE050</p>
    </footer>

    <!-- Toast Notifications -->
    <div id="toastContainer"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="bluetooth.js"></script>
    <script src="app.js"></script>
</body>
</html>
